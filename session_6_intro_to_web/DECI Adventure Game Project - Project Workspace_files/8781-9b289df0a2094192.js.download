(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8781],{79166:function(e,n,t){"use strict";t.d(n,{a:function(){return c},Q:function(){return r}});var o=t(85893),i=(t(67294),t(26793)),a=t(42642),s=t(17570),l=t(39365),r=function(e){var n=e.onClick,t=(0,i.$)().t;return(0,o.jsx)(l.s,{label:t("common.previous"),ps:4,ctaTextEn:t("common.previous",{lng:"en-US"}),onClick:n,leftIcon:(0,o.jsx)(s.e,{children:(0,o.jsx)(a.V11,{w:8,h:8})}),variant:"outline",trackingEventName:"Classroom Nav Clicked"})},c=function(e){var n=e.onClick,t=(0,i.$)().t;return(0,o.jsx)(l.s,{label:t("common.next"),pe:4,ctaTextEn:t("common.next",{lng:"en-US"}),onClick:n,rightIcon:(0,o.jsx)(s.e,{children:(0,o.jsx)(a.ahy,{w:8,h:8})}),trackingEventName:"Classroom Nav Clicked"})}},39365:function(e,n,t){"use strict";t.d(n,{s:function(){return d}});var o=t(14251),i=t(52875),a=t(44747),s=t(85893),l=t(67294),r=t(3579),c=t(95040),d=function(e){var n=e.label,t=e.ctaTextEn,d=e.onClick,u=e.trackingEventName,m=e.trackingContext,f=void 0===m?{}:m,v=e.trackingOptions,x=e.destination,h=(0,a.Z)(e,["label","ctaTextEn","onClick","trackingEventName","trackingContext","trackingOptions","destination"]),k=(0,c.z)(f).track,b=(0,l.useCallback)((function(){var e=(0,o.Z)({cta_type:"button",cta_text:t,destination_url:x},v);k(u,e)}),[x,t,k,u,v]);return(0,s.jsx)(r.z,(0,i.Z)((0,o.Z)({onClick:function(e){d&&d(e),(null===e||void 0===e?void 0:e.defaultPrevented)||b()}},h),{isTruncated:!0,dir:"auto",children:n}))}},11445:function(e,n,t){"use strict";t.d(n,{r:function(){return P}});var o=t(67573),i=t(14251),a=t(85893),s=t(67294),l=t(94184),r=t.n(l),c=t(39138),d=t.n(c),u=t(26793),m=t(93717),f=t(57747),v=t(22757),x=t(71293),h=t(3579),k=t(85970),b=t(5418),p=t(73062),g=t(22241),_=t(58013),j=t(30460),C=t(81136),y=t(42642),w=t(45362);var z=t(95040),F=t(69549),S=t(79284),E=t(33943),M=function(e){var n,t,o=e.isOpen,l=e.onClose,r=(0,S.Z)(!0),c=(0,(0,F.B)().selectEnrollmentForKey)(null!==(t=null===r||void 0===r?void 0:r.key)&&void 0!==t?t:""),d=null===c||void 0===c?void 0:c.program.title,f=(0,z.z)().track,v=(0,u.$)().t,x=(0,g.Hw)({userId:(0,E.sq)()}),k=x.data,b=x.refetch,p=function(e,n){if(!e)return null;var t=!0,o=!1,i=void 0;try{for(var a,s=n[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var l=a.value,r=!0,c=!1,d=void 0;try{for(var u,m=l.plan.steps[Symbol.iterator]();!(r=(u=m.next()).done);r=!0){var f=u.value;if("key"in f&&f.key===e)return f}}catch(v){c=!0,d=v}finally{try{r||null==m.return||m.return()}finally{if(c)throw d}}}}catch(v){o=!0,i=v}finally{try{t||null==s.return||s.return()}finally{if(o)throw i}}}(null===r||void 0===r?void 0:r.key,(null===k||void 0===k?void 0:k.userSubscriptions)||[]),j=null===p||void 0===p||null===(n=p.assessments)||void 0===n?void 0:n[0],C=function(e){var n=e.refetch,t=e.assessment,o=Boolean(t)&&(null===t||void 0===t?void 0:t.status)===w.XO.Locked,i=(0,s.useState)(!1),a=i[0],l=i[1];return(0,s.useEffect)((function(){var e=null,t=0,i=function(){e&&clearInterval(e),l(!1)};return o?(l(!0),e=setInterval((function(){t<30?(n(),t++):i()}),2e3)):i(),function(){i()}}),[o]),{isPolling:a,isAssessmentLocked:o}}({refetch:b,assessment:j}),M=C.isPolling,Z=C.isAssessmentLocked,L=j&&[w.XO.Startable,w.XO.Started].includes(j.status),O=function(e){var n={user_id:(0,E.sq)(),enrollment_id:null===c||void 0===c?void 0:c.id,learning_plan_step_id:null===p||void 0===p?void 0:p.stepId};f("Completion Modal ".concat(e),(0,i.Z)({},n,k))};(0,s.useEffect)((function(){O("Displayed")}),[]);var T=function(){O("Closed"),l()},P=v(M?"lesson.programComplete.pleaseWait":Z?"lesson.programComplete.moreContent":"lesson.programComplete.greatJob");return(0,a.jsx)(_.u,{isOpen:o,onClose:T,ariaLabel:P,title:P,modalProps:{size:"3xl"},footer:(0,a.jsxs)(m.k,{gap:6,width:"100%",children:[(0,a.jsx)(h.z,{onClick:T,width:"min-content",variant:Z?"solid":"ghost",children:v("common.close")}),L&&(0,a.jsx)(h.z,{href:"/lp-step/".concat(j.stepId),as:"a",onClick:function(){return O("Start Assessment Clicked")},rightIcon:(0,a.jsx)(y.LZ3,{h:6,w:6}),children:v("assessments.start")}),(null===c||void 0===c?void 0:c.isReadyForGraduation)&&r&&(0,a.jsx)(h.z,{href:"/graduation/".concat(r.key),as:"a",onClick:function(){return O("Graduate Clicked")},children:v("nanodegree.graduate")})]}),children:M?(0,a.jsx)(A,{t:v}):Z?(0,a.jsx)(I,{t:v}):(0,a.jsx)(N,{programTitle:d||"",shouldTakeAssessment:Boolean(L),t:v})})},N=function(e){var n=e.programTitle,t=e.shouldTakeAssessment,o=e.t;return(0,a.jsxs)(m.k,{pb:6,direction:"column",justifyContent:"center",alignItems:"center",children:[(0,a.jsx)(j.E,{src:"https://uds-assets.udacity.com/glyphs/v2/medal-medal-one.svg",alt:"",w:16,h:16,mb:4}),(0,a.jsx)(v.X,{display:"inline-block",size:"h2",as:"h2",mb:3,children:o("lesson.programComplete.youCompleted")}),(0,a.jsx)(x.x,{color:"blue.500",fontSize:"lg",fontWeight:"semibold",mb:10,children:n}),t&&(0,a.jsx)(x.x,{children:o("lesson.programComplete.assessmentAvailable")})]})},I=function(e){var n=e.t;return(0,a.jsxs)(m.k,{py:6,direction:"column",children:[(0,a.jsx)(x.x,{fontSize:"lg",mb:6,children:n("lesson.programComplete.notDone")}),(0,a.jsx)(x.x,{children:n("lesson.programComplete.notDoneExplanation")})]})},A=function(e){var n=e.t;return(0,a.jsxs)(m.k,{py:6,direction:"column",children:[(0,a.jsx)(x.x,{fontSize:"lg",mb:6,children:n("lesson.programComplete.loadingNext")}),(0,a.jsx)(m.k,{py:6,justifyContent:"center",children:(0,a.jsx)(C.$,{size:"lg",color:"blue.500"})})]})},Z=t(86190),L=t(43567),O=t.n(L),T=[1,2,3],P=function(e){var n=e.button,t=e.currentContent,o=e.currentTitle,l=e.customPrompt,r=e.isOpen,c=e.onRequestClose,j=e.nextTitle,C=(0,s.useState)(null),y=C[0],w=C[1],F=(0,s.useState)(""),S=F[0],N=F[1],I=(0,s.useState)(!1),A=I[0],L=I[1],O=(0,Z.Z)().isEndOfProgram;(0,g.Hw)({userId:(0,E.sq)()},{skip:!O});var P=(0,z.z)().track,D=(0,u.$)().t,W=function(e,n){var o=t.project?"project":t.lab?"lab":"default",a={user_id:(0,E.sq)(),feedback_version:"1.0",scale:3,lesson_key:t.key,lesson_type:o};P("Lesson Feedback ".concat(e),(0,i.Z)({},a,n))};(0,s.useEffect)((function(){W("Displayed",{cta_type:"modal"})}),[]);if(A){return(0,a.jsx)(M,{onClose:function(){L(!1),c()},isOpen:r})}return(0,a.jsxs)(_.u,{isOpen:r,onClose:c,ariaLabel:D("lesson.feedback.lessonRating"),title:D("lesson.feedback.lessonRating"),modalProps:{size:"3xl"},footer:(0,a.jsxs)(m.k,{flexDirection:"column",gap:4,width:"100%",children:[!O&&(0,a.jsxs)(f.xu,{children:[(0,a.jsxs)(v.X,{display:"inline-block",size:"h5",as:"p",children:[D("lesson.feedback.next"),":"]}),(0,a.jsx)(x.x,{display:"inline-block",ms:3,children:j})]}),(0,a.jsxs)(m.k,{justifyContent:"space-between",children:[(0,a.jsx)(h.z,{onClick:function(e){e.preventDefault(),(y||S)&&W("Submitted",{rating:y,suggestions:S}),c(),n.goToNext()},autoFocus:!0,width:"min-content",variant:O?"ghost":"solid",children:null!==y?D("lesson.feedback.send"):j?n.label:D("common.cancel")}),O&&(0,a.jsx)(h.z,{onClick:function(){return L(!0)},children:D("common.next")})]})]}),children:[(0,a.jsxs)(f.xu,{pb:6,textAlign:"center",children:[(0,a.jsx)(v.X,{size:"h6",as:"p",mb:2,children:D("lesson.feedback.justCompleted")}),(0,a.jsx)(x.x,{children:o})]}),(0,a.jsxs)(f.xu,{mb:4,children:[(0,a.jsxs)(k.NI,{as:"fieldset",children:[(0,a.jsx)(b.l,{as:"legend",fontFamily:"heading",fontSize:"xl",textAlign:"center",width:"100%",fontWeight:"400",mb:4,children:l||D("lesson.feedback.howWasIt")}),(0,a.jsx)(m.k,{maxWidth:"364px",margin:"0 auto",justify:"space-around",alignItems:"center",children:T.map((function(e){return(0,a.jsx)(R,{reactionNumber:e,rating:y,onRatingChange:w},e)}))})]}),null!==y&&(0,a.jsx)(f.xu,{children:(0,a.jsxs)(k.NI,{children:[(0,a.jsx)(b.l,{mb:2,children:D("lesson.feedback.suggestedImprovements")}),(0,a.jsx)(p.g,{onChange:function(e){var n=d()(e.target.value,{length:512});N(n)},value:S,rows:6,maxW:"full"}),(0,a.jsx)(k.Q6,{fontSize:"sm",textAlign:"end",mt:3,color:"gray.700",minH:6,children:D("lesson.feedback.charactersRemaining",{count:512-S.length})})]})})]})]})},R=function(e){var n,t=e.onRatingChange,i=e.reactionNumber,l=e.rating,c=(0,s.useState)(null),d=c[0],m=c[1],v=(0,u.$)().t,x=function(){m(null)},h=function(e){m(e)};return(0,a.jsx)(f.xu,{as:"button",className:(n=i,r()(O().icon,O().reaction,O()["reaction-".concat(n)],(0,o.Z)({},O()["reaction-".concat(n,"-hover")],d&&d===n),(0,o.Z)({},O()["reaction-".concat(n,"-small")],l&&l!==n),(0,o.Z)({},O()["reaction-".concat(n,"-active")],l===n||!l))),onClick:function(){return function(e){t(e),m(null)}(i)},onMouseEnter:function(){return h(i)},onMouseOut:x,onFocus:function(){return h(i)},onBlur:x,children:function(e){return v(1===e?"lesson.feedback.feedbackArialLabelNegative":2===e?"lesson.feedback.feedbackAriaLabelNeutral":"lesson.feedback.feedbackAriaLabelPositive")}(i)})}},43567:function(e){e.exports={icon:"FeedbackModal_icon__WLaw7",reaction:"FeedbackModal_reaction__LfwuR","reaction-1":"FeedbackModal_reaction-1__tikNY","reaction-2":"FeedbackModal_reaction-2__BCJdX","reaction-3":"FeedbackModal_reaction-3__bQobG","reaction-1-hover":"FeedbackModal_reaction-1-hover__cSbgs","reaction-2-hover":"FeedbackModal_reaction-2-hover__JDcdv","reaction-3-hover":"FeedbackModal_reaction-3-hover__PDW8_","reaction-1-active":"FeedbackModal_reaction-1-active__0AuUl","reaction-2-active":"FeedbackModal_reaction-2-active__xh1mc","reaction-3-active":"FeedbackModal_reaction-3-active__W_PR0","reaction-1-small":"FeedbackModal_reaction-1-small__2yqZR","reaction-2-small":"FeedbackModal_reaction-2-small__sIiEM","reaction-3-small":"FeedbackModal_reaction-3-small__bYPaD"}}}]);